# STEAMTOKENDUMPERPLUGIN

`SteamTokenDumperPlugin` IZ OFFISHUL ASF **[PLUGIN](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Plugins-lol-US)** DEVELOPD BY US, WHICH ALLOWS U 2 CONTRIBUTE 2 **[STEAMDB](https://steamdb.info)** PROJECT BY SHARIN PACKAGE TOKENS, APP TOKENS AN DEPOT KEYS DAT UR STEAM AKOWNT HAS ACCES 2. TEH EXTENDD INFO ON COLLECTD DATA AN Y STEAMDB NEEDZ IT CAN BE FINDZ ON STEAMDBS **[TOKEN DUMPR](https://steamdb.info/tokendumper)** PAEG. TEH SUBMITTD DATA DOESNT INCLUDE ANY POTENTIALLY-SENSITIV INFORMASHUN, AN POSESEZ NO SECURITY/PRIVACY RISK, AS STATD IN ABOOV DESCRIPSHUN.

---

## ENABLIN TEH PLUGIN

ASF COMEZ WIF `SteamTokenDumperPlugin` BUNDLD TOGETHR WIF TEH RELEASE, BUT TEH PLUGIN ITSELF IZ DISABLD BY DEFAULT. U CAN ENABLE TEH PLUGIN BY SETTIN `SteamTokenDumperPluginEnabled` ASF GLOBAL CONFIG PROPERTY 2 `true`, IN JSON SYNTAX:

```json
{
  "SteamTokenDumperPluginEnabled": true
}
```

ON TEH LAUNCH OV TEH ASF PROGRAM, TEH PLUGIN WILL LET U KNOE WHETHR IT WUZ ENABLD SUCCESFULLY THRU STANDARD ASF LOGGIN MECHANISM. U CAN ALSO ENABLE TEH PLUGIN THRU R WEB-BASD CONFIG GENERATOR.

---

## TECHNICAL DETAILS

UPON ENABLIN, TEH PLUGIN WILL USE TEH BOTS DAT URE RUNNIN IN ASF 4 DATA GATHERIN IN FORM OV PACKAGE TOKENS, APP TOKENS AN DEPOT KEYS DAT UR BOTS HAS ACCES 2. DATA GATHERIN MODULE INCLUDEZ PASIV AN ACTIV ROUTINEZ DAT R SUPPOSD 2 MINIMIZE TEH ADDISHUNAL OVERHEAD CAUSD BY COLLECTIN DATA.

IN ORDR 2 FULFILL TEH PLANND USE CASE, IN ADDISHUN 2 DATA GATHERIN ROUTINE EXPLAIND ABOOV, SUBMISHUN ROUTINE IZ INITIALIZD AS BEAN RESPONSIBLE 4 DETERMININ WUT DATA NEEDZ 2 BE SUBMITTD 2 STEAMDB ON PERIODIC BASIS. DIS ROUTINE WILL FIRE IN UP 2 `1` HOUR SINCE UR ASF START, AN WILL REPEAT ITSELF EVRY `24` HOURS. TEH PLUGIN WILL DO ITZ BEST 2 MINIMIZE TEH AMOUNT OV DATA DAT NEEDZ 2 BE SENT, THEREFORE IZ POSIBLE DAT SUM DATA WHICH TEH PLUGIN WILL COLLECT WILL BE DETERMIND AS USELES 2 SUBMIT, AN THEREFORE SKIPPD (4 EXAMPLE APP UPDATE WHICH DOESNT CHANGE TEH ACCES TOKEN).

TEH PLUGIN USEZ PERSISTENT CACHE DATABASE SAVD IN `config/SteamTokenDumper.cache` LOCASHUN, WHICH SERVEZ SIMILAR PURPOSE 2 `config/ASF.db` 4 ASF. TEH FILE IZ USD IN ORDR 2 RECORD TEH GATHERD AN SUBMITTD DATA AN MINIMIZE TEH AMOUNT OV WERK DAT HAS 2 BE DUN ACROS DIFFERENT ASF RUNS. REMOVIN TEH FILE CAUSEZ TEH PROCES 2 BE RESTARTD FRUM SCRATCH, WHICH SHUD BE AVOIDD IF POSIBLE.

---

## DATA

ASF INCLUDEZ TEH CONTRIBUTOR `steamID` IN DA REQUEST, WHICH IZ DETERMIND AS `SteamOwnerID` DAT U SET IN ASF, OR IN CASE U DIDNT, TEH STEAM ID OV TEH BOT WHICH OWNS TEH MOST LICENSEZ. TEH ANNOUNCD CONTRIBUTOR MITE RECEIV SUM ADDISHUNAL PERKZ FRUM STEAMDB 4 CONTINUOUS HALP (E.G. DONATOR RANK ON TEH WEBSIET), BUT DAT IZ ENTIRELY UP 2 STEAMDBS DISCRESHUN.

IN ANY CASE, STEAMDB STAFF WUD LIEK 2 THANK U IN ADVANCE 4 UR HALP. TEH SUBMITTD DATA ALLOWS STEAMDB 2 OPERATE, IN PARTICULAR 2 TRACK INFO BOUT PACKAGEZ, APPS AN DEPOTS, WHICH WUD NO LONGR BE POSIBLE WITHOUT UR HALP.

---

## COMMAND

STD plugin comes with extra ASF command, `!std [Bots]`, which allows you to trigger refresh and submission for selected bots on demand. Using the command doesn't require enabled config, which allows you to skip automatic gathering and submission, and control the process yourself manually. Naturally it can also be executed with enabled config, which will simply trigger the usual gathering and submission procedures earlier than expected.

We recommend `!std ASF` in order to trigger refresh for all available bots. However, you can also trigger it for selected ones if you'd like to.

---

## ADVANCD CONFIG

R PLUGIN SUPPORTS ADVANCD CONFIG WHICH MITE COME USEFUL 4 PEEPS DAT WUD LIEK 2 TWEAK TEH INTERNALS 2 THEIR PREFERENCE.

TEH ADVANCD CONFIG HAS TEH FOLLOWIN STRUCCHUR LOCATD WITHIN `ASF.json`:

```json
{
  "SteamTokenDumperPlugin": {
    "Enabled": false,
    "SecretAppIDs": [],
    "SecretDepotIDs": [],
    "SecretPackageIDs": [],
    "SkipAutoGrantPackages": true
  }
}
```

ALL OPSHUNS R EXPLAIND BELOW:

### `Enabled`

`bool` TYPE WIF DEFAULT VALUE OV `false`. DIS PROPERTY ACTS TEH SAME AS `SteamTokenDumperPluginEnabled` ROOT-LEVEL PROPERTY EXPLAIND ABOOV, AN CAN BE USD INSTEAD, DEDICATD 2 PEEPS DAT WUD PREFR 2 HAS ENTIRE PLUGIN-RELATD CONFIG IN ITZ OWN STRUCCHUR (SO MOST LIKELY DOSE ALREADY USIN OTHR ADVANCD PROPERTIEZ EXPLAIND BELOW).

---

### `SecretAppIDs`

`ImmutableHashSet<uint>` TYPE WIF DEFAULT VALUE OV BEAN EMPTY. DIS PROPERTY SPECIFIEZ `appIDs` DAT TEH PLUGIN WONT RESOLVE, AN IF THEYRE ALREADY RESOLVD, WONT SUBMIT TEH TOKEN 4. DIS PROPERTY CAN BE USEFUL 4 PEEPS WIF ACCES 2 POTENTIALLY-SENSITIV INFORMASHUN BOUT UNPUBLISHD ITEMS, ESPECIALLY TEH DEVELOPERS, PUBLISHERS OR CLOSD BETA TESTERS.

---

### `SecretDepotIDs`

`ImmutableHashSet<uint>` TYPE WIF DEFAULT VALUE OV BEAN EMPTY. DIS PROPERTY SPECIFIEZ `depotIDs` DAT TEH PLUGIN WONT RESOLVE, AN IF THEYRE ALREADY RESOLVD, WONT SUBMIT TEH KEY 4. DIS PROPERTY CAN BE USEFUL 4 PEEPS WIF ACCES 2 POTENTIALLY-SENSITIV INFORMASHUN BOUT UNPUBLISHD ITEMS, ESPECIALLY TEH DEVELOPERS, PUBLISHERS OR CLOSD BETA TESTERS.

---

### `SecretPackageIDs`

`ImmutableHashSet<uint>` TYPE WIF DEFAULT VALUE OV BEAN EMPTY. DIS PROPERTY SPECIFIEZ `packageIDs` (ALSO KNOWN AS `subIDs`) DAT TEH PLUGIN WONT RESOLVE, AN IF THEYRE ALREADY RESOLVD, WONT SUBMIT TEH TOKEN 4. DIS PROPERTY CAN BE USEFUL 4 PEEPS WIF ACCES 2 POTENTIALLY-SENSITIV INFORMASHUN BOUT UNPUBLISHD ITEMS, ESPECIALLY TEH DEVELOPERS, PUBLISHERS OR CLOSD BETA TESTERS.

---

### `SkipAutoGrantPackages`

`bool` TYPE WIF DEFAULT VALUE OV `true`. DIS PROPERTY ACTS VRY SIMILAR 2 `SecretPackageIDs` AN WHEN ENABLD, WILL CAUSE PACKAGEZ WIF `EPaymentMethod` OV `AutoGrant` 2 BE SKIPPD DURIN RESOLVE ROUTINE EXPLAIND BELOW. `AutoGrant` PAYMENT METHOD IZ USD BY **[STEAMWORKZ](https://partner.steamgames.com)** 2 AUTOMATICALLY GRANT PACKAGEZ ON DEVELOPR ACCOUNTS. WHILE DIS AR TEH NOT AS EXPLICIT AS OTHR `Secret` OPSHUNS, AN THEREFORE DOESNT GUARANTEE ANYTHIN (SINCE U MITE HAS OTHR PACKAGEZ THAN `AutoGrant` DAT U STILL DOAN WANTS 2 SUBMIT), IT SHUD BE GUD ENOUGH 4 SKIPPIN MAJORITY, IF NOT ALL, OV TEH SEEKRET PACKAGEZ. DIS OPSHUN IZ ENABLD BY DEFAULT, AS PEEPS DAT AKSHULLY HAS ACCES 2 `AutoGrant` PACKAGEZ WILL ALMOST NEVR WANTS 2 LEAK DOSE 2 GENERAL PUBLIC, AN THEREFORE USIN VALUE OV `false` IZ VRY SITUASHUNAL.

---

## FURTHR EXPLANASHUN

AT TEH ROOT LEVEL, EVRY STEAM AKOWNT OWNS SET OV PACKAGEZ (LICENSEZ, SUBSCRIPSHUNS), WHICH R CLASIFID BY THEIR `packageID` (ALSO KNOWN AS `subID`). EVRY PACKAGE CUD CONTAIN SEVERAL APPS CLASIFID BY THEIR `appID`. EVRY APP CUD DEN INCLUDE SEVERAL DEPOTS CLASIFID BY THEIR `depotID`.

```text
├── sub/124923
│     ├── app/292030
│     │     ├── depot/292031
│     │     ├── depot/378648
│     │     └── ...
│     ├── app/378649
│     └── ...
└── ...
```

R PLUGIN INCLUDEZ 2 ROUTINEZ WHICH TAEK INTO AKOWNT SKIPPD ITEMS - TEH RESOLVE ROUTINE AN SUBMISHUN ROUTINE.

TEH RESOLVE ROUTINE IZ RESPONSIBLE 4 RESOLVIN TEH TREE U CAN C ABOOV. BY BLACKLISTIN TEH PACKAGEZ/APPS/DEPOTS IN ADVANCE, ULL EFFECTIVELY CUT TEH TREE IN DA PLACE OV BLACKLISTD BRANCH/LEAF WITHOUT ADDISHUNAL NED OV SPECIFYIN TEH REMAININ PARTS OV IT. IN R EXAMPLE ABOOV, IF `124923` PACKAGE WUZ IGNORD, WHETHR BY `SecretPackageIDs` OR `SkipAutoGrantPackages`, AN IT WUZ TEH ONLY PACKAGE U OWN WHICH LINKD 2 TEH `292030` APPID, DEN APPID `292030` WOULDNT GIT RESOLVD EITHR, AN BY DEFINISHUN, IF THAR WUZ NO OTHR RESOLVD APPS WHICH LINKD 2 TEH `292031` AN `378648` DEPOTS, DEN THEY WOULDNT GIT RESOLVD EITHR. HOWEVR, KEEP IN MIND DAT IF TEH PLUGIN HAS ALREADY RESOLVD TEH TREE, DEN EFFECTIVELY DIS WILL ONLY STOP GIVEN ITEM FRUM BEAN UPDATD (E.G. NEW APPS ADDD), IT WILL NOT MAK TEH PLUGIN "FORGET" BOUT TEH EXISTIN ITEMS DAT WUZ ALREADY RESOLVD (E.G. APPS FINDZ IN DAT PACKAGE BEFORE U DECIDD 2 BLACKLIST IT). IF UVE JUS ENABLD SUM SKIPPIN OPSHUNS, AN WUD LIEK 2 ENSURE DAT ASF DOESNT TRAVERSE TEH ALREADY-RESOLVD TREE, U CUD CONSIDR WAN-TIEM REMOVIN `config/SteamTokenDumper.cache` FILE WER TEH PLUGIN KEEPS ITZ CACHE.

TEH SUBMISHUN ROUTINE IZ RESPONSIBLE 4 SUBMITTIN PACKAGE TOKENS, APP TOKENS AN DEPOT KEYS OV ALREADY RESOLVD ITEMS (BY TEH RESOLVE ROUTINE ABOOV). HER UR BLACKLIST HAS IMMEDIATE EFFECT, AS EVEN IF TEH PLUGIN HAS ALREADY RESOLVD TEH INFO, TEH SUBMISHUN ROUTINE WILL NOT AKSHULLY SUBMIT IT OVAR 2 STEAMDB IF U HAS IT BLACKLISTD, REGARDLES IF IT HAS BEEN RESOLVD OR NOT. KEEP IN MIND HOWEVR DAT WERE NOT TALKIN BOUT TEH TREE NOMORE AT DIS POINT, TEH SUBMISHUN ROUTINE DOEZ NOT KNOE WHETHR TEH INFORMASHUN BOUT TEH APP COMEZ FRUM DIS OR DAT PACKAGE, SO IT ONLY SKIPS INFORMASHUN BOUT PARTICULAR, BLACKLISTD ITEMS, REGARDLES OV TEH RELASHUN THEYRE IN WIF OTHR.

4 MAJORITY OV TEH DEVELOPERS AN PUBLISHERS, IT SHUD BE ENOUGH 2 ENABLE `SkipAutoGrantPackages`, POTENTIALLY EMPOWERD WIF `SecretPackageIDs` ONLY, AS IT EFFECTIVELY CUTS TEH TREE AT TEH BEGINNIN BRANCH AN GUARANTEEZ DAT TEH APPS AN DEPOTS INCLUDD FURTHR WILL NOT GIT SUBMITTD AS LONG AS THAR IZ NO OTHR PACKAGE LINKIN 2 TEH SAME APP. IF U WANTS 2 BE DOUBLE SURE, IN ADDISHUN 2 DAT U CAN ALSO USE `SecretAppIDs`, WHICH WILL SKIP TEH RESOLVE OV TEH APP EVEN IF THAR R SUM OTHR LICENSEZ U DIDNT BLACKLIST LINKIN 2 IT. USIN `SecretDepotIDs` SHUD NOT BE NEEDD, UNLES U HAS PARTICULAR, SPECIFIC NED (SUCH AS SKIPPIN ONLY PARTICULAR DEPOT WHILE STILL SUBMITTIN INFO BOUT PACKAGEZ AN APPS), OR IF U WANTS 2 ADD YET ANOTHR LAYR 2 BE TRIPLE SAFE.
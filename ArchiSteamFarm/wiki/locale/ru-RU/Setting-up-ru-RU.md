# Установка

Если вы пришли сюда впервые - Добро Пожаловать! Рады видеть что ещё один путник заинтересован в нашем проекте, но просим вас не забывать, что с большой силой приходит большая ответственность - ASF может сделать в Steam многое, но только если **вам не лень учиться, как им пользоваться**. Кривая обучения довольно крутая, и поэтому от вас ожидается что вы прочтёте эту wiki, которая подробно описывает как всё работает.

Если вы всё ещё читаете, значит вас не напугало вступление выше, и это радует. Конечно, если вы не пропустили его, в противном случае у вас скоро будут **[большие проблемы](https://www.youtube.com/watch?v=WJgt6m6njVw)**... В любом случае, ASF это консольное приложение, а это значит что у этой программы отсутствует дружественный графический интерфейс к которому большинство из вас привыкло, по крайней мере, из коробки. ASF разрабатывался в первую очередь для работы на серверах, и поэтому работает как служба (демон), а не как настольное приложение.

Однако это не означает что вы не можете пользоваться им на своём ПК, или пользоваться им каким-то более сложным способом, ничего такого. ASF это отдельная программа не требующая инсталляции, и работает сразу "из коробки", однако требует конфигурирования чтобы быть полезной. Конфигурирование это способ указать ASF, что нужно делать после запуска. Если вы запустите ASF без конфигурирования, оно просто ничего не будет делать.

---

## Установка для конкретных ОС

В общем случае, вот что нам придётся сделать в следующие несколько минут:
- Установить **[предусловия для .NET](#net-prerequisites)**.
- Скачать **[последнюю версию ASF](https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest)** в варианте для конкретной ОС.
- Распаковать архив в новое место.
- **[Сконфигурировать ASF](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**.
- Запустить ASF и увидеть магию.

Звучит довольно просто, правда? Давайте займёмся этим.

---

### Предусловия для .NET

Первое что надо сделать - убедиться, что ваша ОС вообще может запустить ASF. ASF написана на C#, основан на .NET Core, и может требовать нативные библиотеки, которые пока могут быть недоступны для вашей платформы. В зависимости от того, используете вы Windows, Linux или OS X, вам потребуется выполнить различные требования, но все они перечислены в документе **[.NET prerequisites](https://docs.microsoft.com/dotnet/core/install)** (предусловия для .NET), которому вы должны следовать. Это справочный материал, который вам следует использовать, но ради простоты мы также перечислили все необходимые пакеты ниже, так что вам нет нужды читать документ полностью.

Совершенно нормально, если некоторые (или деже все) зависимости уже присутствуют в вашей системе из-за стороннего программного обеспечения которым вы пользуетесь. Однако, вы должны убедиться что это действительно так, запустив соответствующий инсталлятор для своей ОС - без этих зависимостей ASF вообще не запустится.

Имейте в виду, что для установки варианта под конкретную ОС вам больше ничего не надо делать, особенно устанавливать .NET SDK или даже среду исполнения, поскольку пакеты для конкретных ОС уже включают всё это в себя. Вам нужны только предусловия (зависимости) для .NET, чтобы запустить среду выполнения .NET runtime, включенную в ASF.

#### **[Windows](https://docs.microsoft.com/dotnet/core/install/windows)**:
- **[Microsoft Visual C++ Redistributable Update](https://docs.microsoft.com/cpp/windows/latest-supported-vc-redist?view=msvc-170#visual-studio-2015-2017-2019-and-2022)** (**[x64](https://aka.ms/vs/17/release/vc_redist.x64.exe)** для 64-bit Windows, **[x86](https://aka.ms/vs/17/release/vc_redist.x86.exe)** для 32-bit Windows)
- Настоятельно рекомендуется убедиться, что у вас уже установлены все обновления Windows. Как минимум вам потребуются **[KB2533623](https://support.microsoft.com/ru-ru/help/2533623/)** и **[KB2999226](https://support.microsoft.com/ru-ru/help/2999226/)**, но могут понадобиться и другие обновления. Все они уже должны быть установлены если ваша Windows полностью обновлена. Убедитесть что вы выполнили эти требования до того как устанавливать пакет Visual C++.

#### **[Linux](https://docs.microsoft.com/dotnet/core/install/linux)**:
Имена пакетов зависят от того, каким дистрибутивом Linux вы пользуетесь, мы перечисляем наиболее распространённые. Вам можете получить их все с помощью встроенного менеджера пакетов для вашей ОС (таким как `apt` для Debian или `yum` для CentOS).

- `ca-сертификатов` (стандартные надежные SSL-сертификаты для создания HTTPS соединений)
- `libc6` (`libc`)
- `libgcc-s1` (`libgcc1`, `libgcc`)
- `libicu` (`icu-libs`, последняя версия для вашего дистрибутива, например `libicu72`)
- `libgssapi-krb5-2` (`libkrb5-3`, `krb5-libs`)
- `libssl1.1` (`libssl`, `openssl-libs`, последняя версия для вашего дистрибутива, не менее `1.1.X`)
- `libstdc++6` (`libstdc++`, версии `5.0` или выше)
- `zlib1g` (`zlib`)

Если не все, то большинство этих пакетов должны изначально присутствовать в вашей системе. В минимальной установке стабильной ветки Debian требуется только `libicu72`.

#### **[macOS](https://docs.microsoft.com/dotnet/core/install/macos)**:
- На данный момент никаких дополнительных требований нет, но у вас должна быть установлена последняя версия OS X, как минимум 10.15+

---

### Скачивание

Теперь, раз у нас уже есть все необходимые зависимости, следующим шагом будет скачать **[последнюю версию ASF](https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest)**. ASF доступен в разных вариантах, вас интересует пакет, который подходит для вашей операционной системы и архитектуры. Например, если вы пользуетесь `64`-битной `Win`dows, вам нужен пакет `ASF-win-x64`. Чтобы получить подробную информацию обо всех доступных вариантах, ознакомьтесь с разделом **[совместимость](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Compatibility-ru-RU)**. ASF так же можно запустить на ОС для которых мы не делаем пакетов под конкретную ОС, таких как **32-битная Windows**, для этого перейдите в раздел **[универсальная установка](#Универсальная-установка)**.

![Варианты поставки](https://i.imgur.com/Ym2xPE5.png)

После скачивания, начните с того чтобы распаковать zip-файл в отдельную папку. Если вам для этого нужен отдельный инструмент, подойдет **[7-zip](https://www.7-zip.org)**, но вообще все стандартные утилиты, такие как `unzip` из Linux/macOS, должны и так работать без проблем.

Рекомендуем распаковывать ASF в **отдельную папку** а не в какую-то папку которую вы используете для других целей - система авто-обновления ASF удалит все файлы не связанные с ASF при обновлении, и вы потеряете все свои файлы, находящиеся в папке ASF. Если у вас есть дополнительные скрипты или файлы, которые вы хотите использовать вместе с ASF, положите их на одну папку выше.

Cnруктура папок должна быть примерно такой:

```text
C:\ASF (сюда вы сложите собственные файлы)
    ├── ASF - Ярлык.lnk (необязательно)
    ├── Config - Ярлык.lnk (необязательно)
    ├── Commands.txt (необязательно)
    ├── MyExtraScript.bat (необязательно)
    ├── (...) (любые другие файлы, которые вам нужны, необязательно)
    └── Core (выделеная папка для ASF, куда вы распаковываете архив)
         ├── ArchiSteamFarm(.exe)
         ├── config
         ├── logs
         ├── plugins
         └── (...)
```

---

### Конфигурирование

Теперь мы готовы к последнему шагу, конфигурированию. Это пожалуй самый сложный шаг, поскольку включает в себя много новой информации с которой вы пока не знакомы, поэтому здесь мы предоставим несколько понятных примеров и упрощённое объяснение.

Первое и главное, у нас есть раздел "**[Конфигурация](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**" в котором подробно разъясняется **всё** что связано с конфигурированием, но это огромный объём новой информации, значительная часть которой всё равно вам пока не потребуется. Вместо этого, мы научим вас, как получить ту информацию, которую вы ищете.

Конфигурацию ASF можно выполнить как минимум тремя способами - с помощью нашего генератора веб-конфигураций, ASF-ui или вручную. Это объяснено в деталях в разделе "**[Конфигурация](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**", поэтому если вам нужна подробная информация - обращайтесь для справок к этому разделу. Мы будем использовать генератор веб-конфигураций в качестве отправной точки.

Перейдите на страницу **[сетевого генератора конфигураций](https://justarchinet.github.io/ASF-WebConfigGenerator)** в своём любимом браузере, вам понадобится включенный javascript (на случай если вы его отключили вручную). Мы рекомендуем Chrome или Firefox, но генератор должен работать в любом из современных популярных браузеров.

После того, как вы перешли на страницу генератора, переключитесь на закладку "Бот". Вы должны увидеть страницу, похожую на показанную ниже:

![Закладка "Бот"](https://i.imgur.com/aF3k8Rg.png)

Если по каким-то причинам версия ASF, которую вы скачали, более старая чем та, которая используется генератором конфигураций по-умолчанию, просто выберите нужную вам версию ASF в выпадающем меню. Это может произойти из-за того, что генератор конфигруаций можно использовать для создания конфигураций для более новых (до-релизных) версий ASF, которые ещё отмечены как стабильные. А вы скачали последнюю стабильную версию ASF, которая проверена и надёжно работает.

Начните с ввода имени бота в поле, подсвеченное красным. Это может быть любое имя, такое как ваш никнейм, имя аккаунта, число, или что-то ещё. Есть только одно слово, которое нельзя использовать, `ASF`, поскольку это слово зарезервировано для файла глобальной конфигурации. Кроме того, имя вашего бота не может начинаться с точки (ASF намеренно игнорирует такие файлы). Мы так же рекомендуем не использовать пробелы, вы можете пользоваться символом `_` для разделения слов, если надо.

После того, как вы определились с именем, включите переключатель `Enabled`, это определяет будет ли ASF автоматически запускать вашего бота после запуска программы.

Теперь вам надо выбрать один из двух вариантов:
- Вы можете указать свой логин в поле `SteamLogin` и свой пароль в поле `SteamPassword`
- Или вы можете оставить эти поля пустыми

Если вы их укажете - ASF сможет автоматически использовать ваши учетные данные при запуске, и вам не придётся вводить их каждый раз когда они нужны ASF. Однако вы можете решить не указывать их, чтобы они не сохранялись, ASF в этом случае не сможет запустится без вашей помощи, и вам придётся вводить их во время работы.

ASF требуются ваши учетные данные поскольку в нём используется собственная реализация клиента Steam, которому требуются те же данные для входа, что и официальному клиенту. Ваши учётные данные не сохраняются нигде, кроме папки `config` ASF на вашем ПК, наш генератор конфигураций тоже работает на стороне клиент, то есть вы можете запустить его локально в своём браузере чтобы сгенерировать валидные файлы конфигураций, и при этом ваши учётные данные не покидают вашего ПК, поэтому нет нужды беспокоится об утечке данных. Однако, если по какой-то причине вы не хотите вводить учётные данные в генероторе, мы относимся к этому с пониманием, вы можете вставить их в созданные файлы потом, или вообще опустить их, и вводить только по запросу ASF в командной строке. Узнать больше о мерах безопасности вы можете в разделе посвященном **[конфигурации](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**.

Кроме того вы можете оставить пустым только одно поле, например `SteamPassword`, тогда ASF сможет автоматически подставить логин, но запросит пароль при старте (аналогично клиенту Steam). Если вы используете Семейный просмотр Steam, вам понадобиться ввести его ПИН-код в поле `SteamParentalCode`.

После принятия этих решений и ввода дополнительных данных, ваша страница будет выглядеть похоже на это:

![Закладка "Бот" 2](https://i.imgur.com/yf54Ouc.png)

Теперь вы можете нажать на кнопку "Скачать" и сетевой генератор конфигураций создаст новый `json`-файл с выбранным вами именем. Сохраните этот файл в папке `config`, которая расположена внутри папки куда вы распаковали zip-файл на предыдущем шаге.

Ваша папку `config` будет выглядить примерно так:

![Файловая структура](https://i.imgur.com/crWdjcp.png)

Поздравляем! Вы только что закончили очень простую конфигурацию бота для ASF. Вскоре мы её расширим, но пока это всё что вам нужно.

---

### Запуск ASF

Теперь вы готовы к первому запуску программы. Просто дважды кликните на запускаемом файле `ArchiSteamFarm` в папке ASF. Вы также можете запустить это через консоль.

После этого, если вы установили все необходимые зависимости в самом начале, ASF должен успешно запуститься, обнаружить вашего первого бот (если вы не забыли положить сгенерированный файл конфигурации в папку `config`) и попытаться войти:

![ASF](https://i.imgur.com/u5hrSFz.png)

Если вы указали `SteamLogin` и `SteamPassword` для использования в ASF, у вас запросят только код SteamGuard (из e-mail, из приложения для аутентификации или вообще никакго, в зависимости от настроек вашего аккаунта в Steam). Если нет, вас попросят ввести логин и пароль Steam.

Самое время рассмотреть наш **[раздел удаленной связи](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Remote-communication)** если вас беспокоит, что ASF способен делать от вашего имени, например присоединение к нашей группе Steam.

После прохождения первоначального входа в систему, если ваши данные верны, вы успешно войдете в систему, и ASF начнет фарм, используя настройки по умолчанию, которые вы не меняли на данный момент:

![ASF 2](https://i.imgur.com/Cb7DBl4.png)

Это показатель того, что ASF успешно выполняет свою работу на вашем аккаунте, теперь вы можете свернуть окно программы и заняться чем-то ещё. После некоторого времени (в зависимости от **[производительности](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Performance-ru-RU)**), вы увидите что начали падать коллекционные карточки Steam. Конечно, это случится только если у вас есть игры которые можно фармить, для которых на **[странице значков](https://steamcommunity.com/my/badges)** указано "Выпадет ещё XX карточек" - если же игр для фарма нет, ASF сообщит, что ему нечем заняться, как описано в нашем **[FAQ](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/FAQ#what-is-asf)**.

Этим завершается наша очень простая инструкция по установке. Теперь вы можете решить, хотите ли вы настраивать ASF дальше, или позволить ему работать с настройками по-умолчанию. Мы упомянем ещё несколько простых подробностей, а затем оставим вас наедине с wiki.

---

### Расширенное конфигурирование

#### Фарм на нескольких аккаунтах одновременно

ASF поддерживает фарм на нескольких аккаунтах одновременно, это его основная функция. Вы можете добавлять новые аккаунты к ASF создавая новые файлы конфигурации ботов, точно так же как вы создали для первого бота несколько минут назад. Вам нужно следить только за двумя вещами:

- Уникальное имя бота, если ваш первый бот назван "MainAccount" вы не можете создать ещё одного с таким же именем.
- Правильные учётные данные, такие как `SteamLogin`, `SteamPassword` и `SteamParentalCode` (если вы используете семейный просмотр Steam)

Другими словами, просто снова перейдите к конфигурированию, и сделайте всё точно так же, но для второго и третьего аккаунтов. Не забывайте давать уникальные имена всем вашим ботам.

---

#### Изменение настроек

Вы можете поменять существующие настройки точно так же - просто сгенерировав новый файл конфигурации. Если вы ещё не закрыли сетевой генератор, нажмите на кнопку "Отображение расширенных настроек" и посмотрите, что там ещё есть. С целью обучения мы поменяем параметр `CustomGamePlayedWhileFarming`, который позволяет указать произвольное название, которое ASF будет отображать в процессе фарма вместо настоящего названия запущенной игры.

Если вы просто запустите ASF и начнёте фарм, по умолчанию ваш аккаунт Steam получит статус "в игре":

![Steam](https://i.imgur.com/1VCDrGC.png)

Давайте это поменяем. Включите расширенные настройки в сетевом генераторе, и найдите параметр `CustomGamePlayedWhileFarming`. Когда найдёте, впишите туда произвольный текст, который вы хотите отобразить, например "Idling cards":

![Закладка "Бот" 3](https://i.imgur.com/gHqdEqb.png)

Теперь скачайте новый файл конфигурации так же как раньше, и **замените** ваш старый файл конфигурации новым. Конечно же, вы можете так же сначала удалить старый файл конфигурации а потом положить новый на его место.

Когда вы это сделаете - снова запустите ASF, и вы увидите что заданный вами текст выводится вместо названия игры:

![Steam 2](https://i.imgur.com/vZg0G8P.png)

Это указывает на то, что вы успешно изменили конфигурацию. Точно так же вы можете изменять и глобальные настройки ASF, переключившись с заклкдки "Бот" на закладку "ASF", скачав сгенерированный файл конфигурации `ASF.json` и поместив его в вашу директорию `config`.

Редактировать конфигурацию ASF намного проще, используя наш интерфейс ASF-ui, о котором будет объяснено ниже.

---

#### Использование ASF-ui

ASF - консольное приложение и не имеет графического интерфейса пользователя. Однако мы активно работаем над интерфейсом **[ASF-ui](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/IPC-ru-RU#asf-ui)** для нашего интерфейса IPC, и он может служить практичным и удобным способом доступа к различным возможностям ASF.

Чтобы использовать ASF-ui, вам необходимо включить `IPC`, что является параметром по умолчанию. После запуска ASF вы сможете убедиться, что он автоматически запустил интерфейс IPC:

![IPC](https://i.imgur.com/ZmkO8pk.png)

Вы можете получить доступ к IPC-интерфейсу ASF по **[этой](http://localhost:1242)** ссылке, пока ASF работает, с этого же компьютера. Вы можете использовать ASF-ui для различных целей, например редактирование файлов конфигурации на месте или отправка **[команд](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Commands-ru-RU)**. Вы можете самостоятельно исследовать ASF-ui чтобы узнать все его возможности.

![ASF-ui](https://raw.githubusercontent.com/JustArchiNET/ASF-ui/main/.github/previews/bots.png)

---

### Резюме

Вы успешно установили и настроили ASF для ваших аккаунтов Steam, и даже немного поменяли настройки на свой вкус. Если вы следовали всему нашему руководству, то вам также удалось настроить ASF через наш интерфейс ASF-ui и обнаружить, что ASF на самом деле имеет какой-то графический интерфейс. Сейчас отличное время, чтобы прочитать весь раздел **[конфигурации](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**, чтобы узнать, что на самом деле делают все эти различные настройки, которые вы видели, и что предлагает ASF. Если вы наткнулись на какую-то проблему или у вас есть общий вопрос, прочтите вместо него наш **[FAQ](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/FAQ-ru-RU)**, который должен охватывать все, или по крайней мере, подавляющее большинство вопросов, которые могут у вас возникнуть. Если хотите узнать всё об ASF и о том, как оно может облегчить вам жизнь, прочтите оставшиеся разделы **[нашей wiki](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Home-ru-RU)**. Если вы узнали, что наша программа полезна для вас, и чувствуете щедрость, вы также можете подумать о пожертвовании нашему проекту. В любом случае, веселись!

---

## Универсальная установка

Это установка для продвинутых пользователей, которые хотят запустить ASF в **[универсальном](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Compatibility-ru-RU#user-content-Универсальный-пакет)** варианте. Несмотря на более сложное использование, в отличие от **[вариантов для конкретных ОС](#os-specific-setup)**, этот метод дает дополнительные преимущества.

Вы можете использовать вариант `generic` в основном в этих ситуациях (но, конечно, вы можете использовать его независимо):
- Если вы используете ОС, для которой мы не выпускаем пакета под конкретную ОС (например 32-битная Windows)
- Если у вас уже установлены .NET Runtime/SDK, или вы собираетесь устанавливать и пользоваться ими
- Если вы хотите уменьшить объем структур ASF и занимаемой памяти, управляя требованиями выполнения самостоятельно
- Если вы хотите использовать собственный **[плагин](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Plugins-ru-RU)**, который требует `общей` настройки ASF для правильной работы (из-за отсутствия собственных зависимостей)

Тем не менее, имейте в виду, что в этом случае за среду исполнения .NET Core отвечаете вы. Это значит, что если ваш .NET SDK (или runtime) недоступен, устарел или сломан, ASF не будет работать. Именно поэтому мы не рекомендуем этот вариант установки для обычных пользователей, поскольку вам придётся заботится о том, чтобы .NET SDK (или runtime) соответствовали требованиям ASF, и могли запускать ASF, тогда как в противном случае **мы** будем заботиться чтобы среда исполнения .NET Core в пакете ASF могла это делать.

Для` универсального пакета`, вы можете следовать всему руководству по установке под конкретную ОС, приведенному выше, с двумя небольшими отличиями. В дополнение к установке предусловий для .NET Core, вам также понадобится установить .NET SDK, а вместо запускаемого файла под конкретную ОС`ArchiSteamFarm(.exe)` у вас будет только универсальный бинарный файл `ArchiSteamFarm.dll`. Всё остальное практически точно так же.

Вместе с дополнительными шагами, вы должны:
- Установить **[предусловия для .NET](#net-prerequisites)**.
- Установите **[.NET SDK](https://www.microsoft.com/net/download)** (или по крайней мере ASP.NET Core runtime), подходящий к вашей ОС. Скорее всего вы захотите использовать установщик. Обратитесь к разделу "**[Требования среды исполнения](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Compatibility-ru-RU#user-content-Требования-среды-исполнения)**" если не уверены, какую версию вам надо установить.
- Скачать **[последнюю версию ASF](https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest)** в `универсальном (generic)` варианте.
- Распаковать архив в новое место.
- **[Сконфигурировать ASF](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**.
- Запустить ASF либо с помощью предоставленного скрипта, либо вручную командой `dotnet /path/to/ArchiSteamFarm.dll` из вашей любимой оболочки командной строки.

Скрипты-хелперы (такие как `ArchiSteamFarm.cmd` для Windows и `ArchiSteamFarm.sh` для Linux/macOS) расположены рядом с бинарником `ArchiSteamFarm.dll` - они включены только в `общий вариант`. Вы можете воспользоваться ими если не хотите запускать команду `dotnet` вручную. Естественно, скрипты-хелперы не будут работать, если вы не установили .NET Core SDK и в вашем `PATH` нет пути к запускаемому файлу `dotnet`. Скрипты для запуска не обязательны к использованию, вы всегда можете вручную запустить команду `dotnet /path/to/ArchiSteamFarm.dll`.